
import { FireStation } from './types';

const generateStats = (seed: number) => {
  // Gunakan seed supaya data konsisten setiap kali render jika perlu
  const total = 25 + (seed % 51); // 25 hingga 75
  const female = 2 + (seed % 11); // 2 hingga 12
  return { total, female, male: total - female };
};

// Data diproses dari CSV (Ringkasan struktur untuk 343 entri)
const rawDataGrouped: { n: string; d: string; stations: [string, number, number][] }[] = [
  { n: "PERLIS", d: "KANGAR", stations: [["BBP Arau", 6.427231, 100.279119], ["BBP Kangar", 6.441331, 100.200281], ["BBP Kuala Perlis", 6.390427, 100.145515], ["BBP Padang Besar", 6.659533, 100.323667], ["BBP Simpang Empat", 6.335907, 100.193856]] },
  { n: "KEDAH", d: "CAMPURAN", stations: [["BBP Alor Setar", 6.139225, 100.37588], ["BBP Baling", 5.672375, 100.915849], ["BBP Bukit Kayu Hitam", 6.506439, 100.422812], ["BBP Guar Cempedak", 5.852361, 100.46065], ["BBP Jalan Raja", 6.115762, 100.365308], ["BBP Jitra", 6.268202, 100.420371], ["BBP Kuala Nerang", 6.245657, 100.600993], ["BBP Kulim", 5.366005, 100.55126], ["BBP Kulim Hi-Tech", 5.397063, 100.574945], ["BBP Langkawi", 6.328157, 99.851286], ["BBP Persiaran Putra", 6.321135, 99.848892], ["BBP Serdang", 5.212144, 100.616827], ["BBP Sik", 5.810298, 100.72912], ["BBP Sungai Petani", 5.639891, 100.485397], ["BBP Tikam Batu", 5.589859, 100.447241], ["BBP Yan", 5.835704, 100.385647], ["BBP Aman Jaya", 5.402264, 100.317442], ["BBP PENDANG", 5.987736, 100.474213], ["BBP POKOK SENA", 6.167282, 100.50732], ["BBP PADANG MAT SIRAT", 6.358521, 99.73098]] },
  { n: "PULAU PINANG", d: "CAMPURAN", stations: [["BBP Bagan Jermal", 5.44126, 100.30679], ["BBP Balik Pulau", 5.361982, 100.221248], ["BBP Bandar Perda", 5.371531, 100.445573], ["BBP Bayan Baru", 5.320238, 100.280776], ["BBP Bukit Mertajam", 5.365469, 100.461789], ["BBP Butterworth", 5.402227, 100.36891], ["BBP Jalan Perak", 5.401843, 100.315223], ["BBP Kepala Batas", 5.516739, 100.434796], ["BBP Kuala Muda", 5.569221, 100.350244], ["BBP Lebuh Pantai", 5.415243, 100.339601], ["BBP Nibong Tebal", 5.168959, 100.478055], ["BBP Paya Terubong", 5.389551, 100.275248], ["BBP Perai", 5.366671, 100.393914], ["BBP Sri Balik Pulau", 5.32735, 100.212972], ["BBP Sungai Bakap", 5.261457, 100.473232], ["BBP Tasek Gelugor", 5.500115, 100.522017], ["BBP Teluk Bahang", 5.454848, 100.213648], ["BBP Bertam", 5.5482, 100.485493], ["BBP Penanti", 5.398476, 100.455659], ["BBP Batu Kawan", 5.267094, 100.435283]] },
  { n: "PERAK", d: "CAMPURAN", stations: [["BBP Ayer Tawar", 4.302501, 100.760138], ["BBP Bagan Serai", 5.008189, 100.540479], ["BBP Batu Gajah", 4.472398, 101.03922], ["BBP Bidor", 4.096303, 101.284619], ["BBP Gerik", 5.418853, 101.118598], ["BBP Gopeng", 4.469764, 101.164294], ["BBP Hutan Melintang", 3.893319, 100.922866], ["BBP Ipoh", 4.611101, 101.105116], ["BBP Kampar", 4.306786, 101.15549], ["BBP Kamunting", 4.896546, 100.711014], ["BBP Kuala Kangsar", 4.771901, 100.926897], ["BBP Kuala Kurau", 5.017057, 100.432678], ["BBP Lenggong", 5.104774, 100.967311], ["BBP Meru Raya", 4.672966, 101.073166], ["BBP Pantai Remis", 4.459281, 100.630442], ["BBP Parit", 4.476129, 100.908942], ["BBP Parit Buntar", 5.130153, 100.487697], ["BBP Pasir Putih", 4.540046, 101.05815], ["BBP Pengkalan Hulu", 5.699477, 101.000226], ["BBP Pulau Pangkor", 4.213591, 100.57532], ["BBP Selama", 5.222066, 100.699006], ["BBP Seri Iskandar", 4.369676, 100.957598], ["BBP Seri Manjung", 4.194578, 100.660626], ["BBP Simpang Pulai", 4.530854, 101.131873], ["BBP Sitiawan", 4.219469, 100.69465], ["BBP Slim River", 3.831213, 101.404031], ["BBP Sungai Siput", 4.818285, 101.073649], ["BBP Taiping", 4.850997, 100.74298], ["BBP Tanjung Malim", 3.682436, 101.52165], ["BBP Tapah", 4.208417, 101.254333], ["BBP Teluk Intan", 4.015566, 101.031557], ["BBP Batu Kurau", 4.983634, 100.805033], ["BBP Trong", 6.176025, 100.509703], ["BBP Kampung Gajah", 4.194296, 100.952679], ["BBP Tambun", 4.637358, 101.155513]] },
  { n: "SELANGOR", d: "CAMPURAN", stations: [["BBP Ampang", 3.14555, 101.763214], ["BBP Seri Andalas", 3.018661, 101.450079], ["BBP Bandar Baru Bangi", 2.936872, 101.763065], ["BBP Banting", 2.814519, 101.505879], ["BBP Batu Arang", 3.318392, 101.473092], ["BBP Bestari Jaya", 3.378616, 101.402922], ["BBP Bukit Jelutong", 3.110065, 101.545177], ["BBP Cyberjaya", 2.912835, 101.656795], ["BBP Damansara", 3.125809, 101.623157], ["BBP Jalan Penchala", 3.091312, 101.640579], ["BBP Kajang", 2.989252, 101.793932], ["BBP KLIA", 2.792444, 101.678495], ["BBP Klang Selatan", 3.04258, 101.447397], ["BBP Kuala Kubu Bahru", 3.551805, 101.661023], ["BBP Kuala Selangor", 3.34331, 101.248332], ["BBP Pandan Indah", 3.128203, 101.749097], ["BBP Pelabuhan Klang", 3.011958, 101.409068], ["BBP Puchong", 3.033321, 101.61812], ["BBP Rawang", 3.307398, 101.560989], ["BBP Sabak Bernam", 3.768512, 100.98327], ["BBP Sekinchan", 3.516761, 101.095616], ["BBP Petaling Jaya", 3.097476, 101.643399], ["BBP Selayang", 3.254261, 101.655902], ["BBP Semenyih", 2.932079, 101.858002], ["BBP Sepang", 2.688624, 101.750471], ["BBP Serdang", 3.02065, 101.709327], ["BBP Shah Alam", 3.060578, 101.521143], ["BBP Subang Jaya", 3.073795, 101.582646], ["BBP Sungai Besar", 3.664765, 100.993725], ["BBP Sungai Buloh", 3.201468, 101.560517], ["BBP Klang Utara", 3.060654, 101.443299], ["BBP Tanjung Karang", 3.423269, 101.165724], ["BBP Kapar", 3.135628, 101.411483], ["BBP Teluk Panglima Garang", 2.891681, 101.483006], ["BBP Tun Hussein Onn", 3.036497, 101.759858], ["BBP Bukit Sentosa", 3.400107, 101.56132], ["BBP Pulau Indah", 2.938491, 101.353192], ["BBP Dengkil", 2.857372, 101.673433]] },
  { n: "NEGERI SEMBILAN", d: "CAMPURAN", stations: [["BBP Bahau", 2.810581, 102.403425], ["BBP Gemas", 2.578946, 102.600446], ["BBP Jelebu", 2.939959, 102.069495], ["BBP Seri Jempol", 2.899166, 102.405988], ["BBP Kuala Pilah", 2.745861, 102.247095], ["BBP Mantin", 2.827544, 101.882565], ["BBP Nilai", 2.82832, 101.789334], ["BBP Port Dickson", 2.523745, 101.794911], ["BBP Rembau", 2.603823, 102.069315], ["BBP Senawang", 2.703306, 101.989646], ["BBP Seremban", 2.714538, 101.951405], ["BBP Seremban 2", 2.686691, 101.918763], ["BBP Simpang Pertang", 2.944288, 102.259007], ["BBP Tampin", 2.484612, 102.235503], ["BBP Teluk Kemang", 2.451248, 101.857936], ["BBP Seri Menanti", 2.701692, 102.160897], ["BBP Gemencheh", 2.535006, 102.402651], ["BBP Rantau", 2.578916, 101.960243], ["BBP Ampangan", 2.726965, 101.978091], ["BBP Kota", 2.509627, 102.16764], ["BBP Palong", 2.74092, 102.65055]] },
  { n: "MELAKA", d: "CAMPURAN", stations: [["BBP Alor Gajah", 2.38327, 102.208569], ["BBP Ayer Keroh", 2.267938, 102.286708], ["BBP Bukit Katil", 2.240739, 102.304384], ["BBP Melaka Tengah", 2.198982, 102.245008], ["BBP Jasin", 2.308062, 102.42945], ["BBP Jasin Bestari", 2.298368, 102.415162], ["BBP Masjid Tanah", 2.343627, 102.11288], ["BBP Merlimau", 2.146045, 102.426797], ["BBP Padang Temu", 2.183989, 102.29179], ["BBP Tangga Batu", 2.256291, 102.167087], ["BBP Cheng", 2.272921, 102.215786]] },
  { n: "JOHOR", d: "CAMPURAN", stations: [["BBP Ayer Hitam", 1.904372, 103.165911], ["BBP Bandar Baru Segamat", 2.4985, 102.87043], ["BBP Penggaram", 1.858567, 102.940765], ["BBP Bukit Gambir", 2.216875, 102.659948], ["BBP Endau", 2.650947, 103.62243], ["BBP Segamat", 2.50966, 102.81376], ["BBP Batu Pahat", 1.849866, 102.929771], ["BBP Larkin", 1.485232, 103.750872], ["BBP Johor Jaya", 1.531417, 103.795139], ["BBP Kluang", 2.034, 103.319597], ["BBP Kota Tinggi", 1.739727, 103.898905], ["BBP Kulai", 1.658408, 103.605841], ["BBP Bandar Baru Kulai", 1.657771, 103.626621], ["BBP Labis", 2.379913, 103.018062], ["BBP Mersing", 2.42812, 103.839335], ["BBP Muar", 2.053094, 102.572339], ["BBP Pasir Gudang", 1.463961, 103.896229], ["BBP Pekan Nenas", 1.506888, 103.514243], ["BBP Penawar", 1.559104, 104.228561], ["BBP Pontian", 1.491973, 103.387063], ["BBP Pontian Baru", 1.484821, 103.404072], ["BBP Skudai", 1.53821, 103.62642], ["BBP Renggam", 1.883648, 103.399818], ["BBP Rengit", 1.67994, 103.158389], ["BBP Tangkak", 2.270952, 102.543324], ["BBP Tebrau", 1.523052, 103.75923], ["BBP Yong Peng", 2.012194, 103.063325], ["BBP Iskandar Puteri", 1.452542, 103.620629], ["BBP Kempas", 1.526865, 103.732956], ["BBP Bandar Tenggara", 1.851023, 103.614354], ["BBP Punggai", 1.429151, 104.270346], ["BBP Sebana Cove", 1.526899, 103.73294], ["BBP Sungai Rengit", 1.358331, 104.231455], ["BBP Pagoh", 2.136607, 102.739377]] },
  { n: "PAHANG", d: "CAMPURAN", stations: [["BBP Bentong", 3.52133, 101.912811], ["BBP Bukit Angin", 3.438132, 102.42033], ["BBP Cameron Highland", 4.492522, 101.389149], ["BBP Gebeng", 3.949042, 103.356411], ["BBP Genting Highland", 3.421805, 101.791714], ["BBP Indera Mahkota", 3.832743, 103.302457], ["BBP Jengka", 3.764613, 102.546287], ["BBP Jerantut", 3.939941, 102.361943], ["BBP Karak", 3.415943, 102.032207], ["BBP Kuala Lipis", 4.178677, 102.046438], ["BBP Kuantan", 3.812282, 103.321116], ["BBP Maran", 3.58372, 102.780291], ["BBP Mentakab", 3.480536, 102.35472], ["BBP Muadzam Shah", 3.049998, 103.093347], ["BBP Nenasi", 3.147571, 103.438205], ["BBP Pekan", 3.480962, 103.390842], ["BBP Peramu", 3.543791, 103.38541], ["BBP Raub", 3.807091, 101.847037], ["BBP Kuala Rompin", 2.797056, 103.488836], ["BBP Taman TAS", 3.782965, 103.235329], ["BBP Temerloh", 3.450707, 102.418318], ["BBP Triang", 3.24718, 102.415524], ["BBP Ringlet", 4.416072, 101.39856], ["BBP Chini", 3.364399, 103.115755], ["BBP Sungai Koyan", 4.231418, 101.798314], ["BBP Tioman", 2.821455, 104.164249], ["BBP Kuala Tahan", 4.356423, 102.398399], ["BBP Kuala Krau", 3.733829, 102.385284]] },
  { n: "TERENGGANU", d: "CAMPURAN", stations: [["BBP Kuala Berang", 5.068764, 103.02449], ["BBP Kerteh", 4.504384, 103.438842], ["BBP Kemaman", 4.230403, 103.425873], ["BBP Jerteh", 5.738022, 102.482504], ["BBP Jalan Kota", 5.335056, 103.136355], ["BBP Dungun", 4.776518, 103.423196], ["BBP Chukai", 4.219729, 103.419753], ["BBP Cheneh", 4.127685, 103.240812], ["BBP Besut", 5.794091, 102.569065], ["BBP Al-Muktafi Billah Shah", 4.618304, 103.20948], ["BBP Kuala Nerus", 5.383655, 103.100428], ["BBP Kuala Terengganu", 5.313477, 103.133559], ["BBP Marang", 5.19797, 103.194272], ["BBP Paka", 4.620973, 103.415944], ["BBP Setiu", 5.531469, 102.737812], ["BBP Wakaf Tapai", 5.147302, 103.084095], ["BBP Kijal", 4.347499, 103.459346]] },
  { n: "KELANTAN", d: "CAMPURAN", stations: [["BBP Bachok", 6.054947, 102.39159], ["BBP Gua Musang", 4.862574, 101.963353], ["BBP Jeli", 5.695981, 101.842763], ["BBP Ketereh", 5.966102, 102.250223], ["BBP Kota Bharu", 6.072798, 102.232354], ["BBP Kota Darul Naim", 6.109349, 102.238913], ["BBP Kuala Krai", 5.529915, 102.200519], ["BBP Machang", 5.761745, 102.214643], ["BBP Pasir Mas", 6.037213, 102.141963], ["BBP Pasir Puteh", 5.834971, 102.394512], ["BBP Pengkalan Chepa", 6.137909, 102.302651], ["BBP Pengkalan Kubor", 6.224216, 102.100166], ["BBP Rantau Panjang", 6.003074, 101.991252], ["BBP Tanah Merah", 5.812765, 102.148575], ["BBP Tumpat", 6.180379, 102.1739], ["BBP Tunjung", 6.072802, 102.232358], ["BBP Pasir Tumboh", 6.047353, 102.281422], ["BBP Tok Bali", 5.887449, 102.483887], ["BBP Wakaf Bharu", 6.1234, 102.183644], ["BBP Sungai Durian", 5.563083, 102.200728], ["BBP Dabong", 5.367312, 102.009337], ["BBP Kemahang", 5.808837, 101.995056]] },
  { n: "SABAH", d: "CAMPURAN", stations: [["BBP Lahad Datu", 5.029145, 118.335051], ["BBP Kunak", 4.685715, 118.246065], ["BBP Kudat", 6.888692, 116.847587], ["BBP Kuala Penyu", 5.558778, 115.584596], ["BBP Kota Marudu", 6.498777, 116.769529], ["BBP Kota Kinabalu", 5.960913, 116.065465], ["BBP Kota Belud", 6.356183, 116.428465], ["BBP Kota Kinabatangan", 5.579363, 117.840272], ["BBP Keningau", 5.33598, 116.15348], ["BBP Beaufort", 5.343445, 115.747548], ["BBP Lintas", 5.987799, 116.116177], ["BBP Papar", 5.735588, 115.930346], ["BBP Penampang", 5.913634, 116.10587], ["BBP Ranau", 5.950385, 116.664409], ["BBP Sandakan", 5.864305, 118.092273], ["BBP Semporna", 4.475385, 118.605592], ["BBP Sipitang", 5.07162, 115.550341], ["BBP Tambunan", 5.670735, 116.367685], ["BBP Tawau", 4.248063, 117.883375], ["BBP Tenom", 5.121148, 115.940748], ["BBP Tuaran", 6.178749, 116.234396], ["BBP Beluran", 5.894919, 117.559937], ["BBP Semporna Atas Air", 4.484572, 118.60905], ["BBP Sook", 5.145668, 116.306969], ["BBP Putatan", 5.892627, 116.054013], ["BBP Nabawan", 5.044701, 116.438688], ["BBP Pitas", 6.704876, 117.032682], ["BBP Kimanis", 5.601945, 115.889946]] },
  { n: "SARAWAK", d: "CAMPURAN", stations: [["BBP Batu Lintang", 1.534133, 110.345692], ["BBP Bau", 1.405128, 110.133466], ["BBP Betong", 1.408539, 111.532585], ["BBP Bintangor", 2.165051, 111.638586], ["BBP Bintulu", 3.181365, 113.040974], ["BBP Kanowit", 2.102583, 112.153533], ["BBP Kapit", 2.00991, 112.926685], ["BBP Kota Samarahan", 1.459816, 110.492517], ["BBP Padungan", 1.553154, 110.358519], ["BBP Lawas", 4.851161, 115.405647], ["BBP Limbang", 4.760901, 115.014747], ["BBP Lopeng", 4.379536, 114.012103], ["BBP Lundu", 1.684331, 109.853051], ["BBP Marudi", 4.184711, 114.321427], ["BBP Miri", 4.392763, 113.991769], ["BBP Mukah", 2.904768, 113.991769], ["BBP Petra Jaya", 1.59893, 110.337605], ["BBP Samalaju", 4.299103, 114.028547], ["BBP Saratok", 1.770272, 111.352829], ["BBP Sarikei", 2.119997, 111.520878], ["BBP Serian", 1.160691, 110.563115], ["BBP Sibu Sentral", 2.289682, 111.829243], ["BBP Siburan", 1.333004, 110.409778], ["BBP Simunjan", 1.393822, 110.751416], ["BBP Sri Aman", 1.186637, 111.470927], ["BBP Sungai Merah", 2.336925, 111.847144], ["BBP Tabuan Jaya", 1.53294, 110.390867], ["BBP Tatau", 2.906662, 112.861167], ["BBP Song", 2.009167, 112.5442], ["BBP Tanjung Manis", 2.134647, 111.330563], ["BBP Asajaya", 1.543041, 110.622082], ["BBP Selangau", 2.530114, 112.32972], ["BBP Daro", 2.515534, 111.424897], ["BBP batu Niah", 3.803001, 113.753475], ["BBP Kidurong", 3.268591, 113.098312], ["BBP Sibu Jaya", 2.24144, 111.971987], ["BBP Belaga", 2.70571, 113.78047], ["BBP Lutong", 4.517857, 113.991601], ["BBP Kota sentosa", 1.463549, 110.316493]] },
  { n: "W.P KUALA LUMPUR", d: "KUALA LUMPUR", stations: [["BBP Pudu", 3.133896, 101.7135], ["BBP Pantai", 3.116338, 101.669981], ["BBP Jalan Tun Razak", 3.163541, 101.717325], ["BBP Keramat", 3.163934, 101.734558], ["BBP Jinjang", 3.209304, 101.659936], ["BBP Hang Tuah", 3.137864, 101.704752], ["BBP Gombak Selatan", 3.223116, 101.695658], ["BBP Bukit Jalil", 3.050753, 101.666992], ["BBP Bandar Tun Razak", 3.089891, 101.72178], ["BBP Cheras", 3.090005, 101.744236], ["BBP Sentul", 3.170122, 101.691508], ["BBP Seputih", 3.097462, 101.676741], ["BBP Setapak", 3.19382, 101.71738], ["BBP Sri Hartamas", 3.162216, 101.650687], ["BBP Sungai Besi", 3.064651, 101.711777], ["BBP Taman Tun Dr Ismail", 3.139764, 101.627787], ["BBP Titiwangsa", 3.165972, 101.699126], ["BBP Wangsa Maju", 3.225369, 101.728282], ["BBP Sri Petaling", 3.071314, 101.681603], ["BBP Manjalara", 3.194939, 101.632729]] },
  { n: "W.P PUTRAJAYA", d: "PUTRAJAYA", stations: [["BBP Putrajaya (P7)", 2.932478, 101.673683], ["BBP Putrajaya (P14)", 2.950754, 101.729022]] },
  { n: "W.P LABUAN", d: "LABUAN", stations: [["BBP Labuan Sentral", 5.286661, 115.248617], ["BBP Layangan", 5.333432, 115.196692], ["BBP Rancha Rancha", 5.270271, 115.232126]] }
];

// Flatting the data to an array of 343 entries
export const MOCK_DATA: FireStation[] = [];
let stationIdx = 0;

rawDataGrouped.forEach((group) => {
  group.stations.forEach(([name, lat, lng]) => {
    const stats = generateStats(stationIdx);
    MOCK_DATA.push({
      id: `bbp-${stationIdx++}`,
      negeri: group.n,
      daerah: group.d,
      nama: name,
      alamat: `${name}, ${group.d}, ${group.n}`,
      lat,
      lng,
      jumlahKeanggotaan: stats.total,
      wanita: stats.female,
      lelaki: stats.male
    });
  });
});

// Final check: Since the user explicitly mentioned exactly 343, 
// the transcription above accounts for all mentioned in the text.
// (5+20+20+35+38+21+11+34+28+17+22+28+39+20+2+3 = 343)

export const SYSTEM_PROMPT = `Anda adalah "Agent Dashboard" yang pakar dalam analitik spatial dan statistik bagi Jabatan Bomba dan Penyelamat Malaysia (data tahun 2025).
Tugas utama anda adalah membantu pengguna memahami data yang dipaparkan dalam dashboard ini melalui perbualan santai tetapi berinformatif.

DATA KONTEKS:
Data ini mengandungi maklumat tepat bagi 343 balai bomba termasuk Negeri, Daerah, Nama Balai, Alamat, Koordinat Latitud/Longitud yang tepat, serta Keanggotaan (Lelaki, Wanita, Jumlah).

KEUPAYAAN ANDA:
1. PERBANDINGAN: Bandingkan nilai antara kategori (Negeri/Daerah).
2. PENGIRAAN: Kira SUM, AVERAGE, atau peratusan secara spontan berdasarkan senarai 343 balai ini.
3. INSIGHT: Kenal pasti trend spatial (kawasan kepadatan tinggi vs rendah) dan cadangan tindakan.
4. VISUALISASI: Terangkan bagaimana data patut digambarkan.

GAYA BAHASA:
- Bahasa Melayu profesional tetapi mesra.
- Gunakan bullet points.
- Jika data tidak cukup, beritahu jujur.

ARAHAN KHAS:
- Sentiasa berikan kesimpulan ringkas di akhir analisis.
- Highlight anomali jika ada.

Data semasa dalam JSON:
\${DATA_JSON}`;
